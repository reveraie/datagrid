(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[288],{1288:(e,t,n)=>{"use strict";n.d(t,{default:()=>s});var r=n(4568);n(7620);var a=n(9973),o=n(5101),l=n(6309),u=n(3869),i=n(4682),c=n(565);function s(){let e=[{name:"status",width:32,allowResize:!1,render:e=>(0,r.jsx)("div",{children:e?(0,r.jsx)(a.A,{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"}):(0,r.jsx)(o.A,{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"})})},{name:"from",label:"From",width:100},{name:"favorite",width:32,allowResize:!1,render:e=>(0,r.jsx)("div",{children:e?(0,r.jsx)(i.A,{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"}):(0,r.jsx)(l.A,{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"})})},{name:"subject",label:"Subject",width:"*"},{name:"attachments",width:32,allowResize:!1,render:e=>(0,r.jsx)("div",{children:e?(0,r.jsx)(u.A,{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"}):null})},{name:"date",label:"Date",width:100}];return(0,r.jsx)(c.z,{gridId:"2",className:"max-h-64",columns:e,rows:[{type:"group",values:{Since:"Today"}},{values:{status:!0,from:"Bob Wilson",favorite:!0,subject:"Important announcement",attachments:3,date:"2023-01-01"}},{values:{status:!1,from:"John Doe",favorite:!1,subject:"New feature request",attachments:0,date:"2023-01-02"}},{values:{status:!0,from:"Alice Smith",favorite:!1,subject:"Sales update",attachments:2,date:"2023-01-03"}},{values:{status:!1,from:"Mike Johnson",favorite:!0,subject:"Bug report",attachments:1,date:"2023-01-04"}},{type:"group",values:{Since:"Yesterday"}},{values:{status:!0,from:"Emily Davis",favorite:!1,subject:"Feature request",attachments:0,date:"2023-01-05"}},{values:{status:!1,from:"David Brown",favorite:!0,subject:"Bug report",attachments:2,date:"2023-01-06"}},{values:{status:!0,from:"Sophia Wilson",favorite:!1,subject:"Sales update",attachments:1,date:"2023-01-07"}},{values:{status:!1,from:"James Smith",favorite:!0,subject:"Bug report",attachments:0,date:"2023-01-08"}},{values:{status:!0,from:"Olivia Johnson",favorite:!1,subject:"Feature request",attachments:2,date:"2023-01-09"}},{values:{status:!1,from:"Liam Davis",favorite:!0,subject:"Sales update",attachments:1,date:"2023-01-10"}},{values:{status:!0,from:"Emma Brown",favorite:!1,subject:"Bug report",attachments:0,date:"2023-01-11"}},{values:{status:!1,from:"Noah Wilson",favorite:!0,subject:"Feature request",attachments:2,date:"2023-01-12"}}]})}n(3638)},3638:()=>{},565:(e,t,n)=>{"use strict";n.d(t,{z:()=>z});var r=n(7620);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t,n,r,a,o,l){try{var u=e[o](l),i=u.value}catch(e){n(e);return}u.done?t(i):Promise.resolve(i).then(r,a)}function l(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var l=e.apply(t,n);function u(e){o(l,r,a,u,i,"next",e)}function i(e){o(l,r,a,u,i,"throw",e)}u(void 0)})}}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,r,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var o=[],l=!0,u=!1;try{for(a=a.call(e);!(l=(n=a.next()).done)&&(o.push(n.value),!t||o.length!==t);l=!0);}catch(e){u=!0,r=e}finally{try{l||null==a.return||a.return()}finally{if(u)throw r}}return o}}(e,t)||i(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}}function c(e,t){var n,r,a,o,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(n)throw TypeError("Generator is already executing.");for(;l;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,r=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(a=(a=l.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){l.label=o[1];break}if(6===o[0]&&l.label<a[1]){l.label=a[1],a=o;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(o);break}a[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}}var s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=u((0,r.useState)(!1),2),a=n[0],o=n[1],l=(0,r.useRef)(null),i=(0,r.useRef)(null);return(0,r.useEffect)(function(){var n=l.current,r=new IntersectionObserver(function(e){u(e,1)[0].isIntersecting?i.current=setTimeout(function(){l.current&&r&&o(!0)},t):(i.current&&clearTimeout(i.current),o(!1))},{root:null,rootMargin:"0px",threshold:e});return n&&r.observe(n),function(){n&&r.unobserve(n),i.current&&clearTimeout(i.current)}},[e,t]),{isVisible:a,ref:l}},d=function(){},f=function(){},m=function(e){var t,n,a,o,l=e.startIndex,i=e.size,c=e.loadRows,m=e.placeholder,v=s(0,e.timeout||100),b=v.isVisible,h=v.ref;f("GridPage reload: ".concat(l," is ").concat(b?"visible":"not visible"));var p=(0,r.useMemo)(function(){return m?m(l,i):Array.from({length:i},function(e,t){return t+l}).map(function(e,t){return r.createElement("div",{key:l+t,className:"dg-row dg-row-loading"},"Loading row ",l+t," ...")})},[m,l,i]),g=u((n=(t=u((0,r.useState)(p),2))[0],a=t[1],o=(0,r.useRef)(null),(0,r.useEffect)(function(){if(!b){a(p),o.current&&(d("loading aborted -- no longer visible",l,i),o.current.abort(),o.current=null);return}var e=new AbortController;return o.current=e,d("loading started",l,i),c(l,i,e.signal).then(function(t){e.signal.aborted||(d("loading completed",l,i),a(t))}).catch(function(e){d("Page ".concat(l," failed to load:"),e)}).finally(function(){o.current===e&&(o.current=null)}),function(){o.current&&(o.current.abort(),o.current=null)}},[b,l,i,c,p]),[n]),1)[0];return r.createElement("div",{ref:h,className:"dg-page"},g)};function v(e){var t=e.label;return t?"function"==typeof t?t(e):t:null}var b=function(e){var t=e.column,n=e.index,a=e.onClick,o=e.onChangeSize,l=u((0,r.useState)("number"==typeof t.width?t.width:100),2),i=l[0],c=l[1],s=u((0,r.useState)(!1),2),d=s[0],f=s[1],m=(0,r.useCallback)(function(e){e.stopPropagation();var t=e.clientX,r=i||0,a=function(e){f(!0);var a=Math.max(r+e.clientX-t,10);o&&o(n||0,a),c(a)},l=function(){document.removeEventListener("mousemove",a),document.removeEventListener("mouseup",l),setTimeout(function(){return f(!1)},10)};document.addEventListener("mousemove",a),document.addEventListener("mouseup",l)},[i,n,o]),b=(0,r.useCallback)(function(){!d&&a&&a(t)},[t,a,d]);return r.createElement("div",{"aria-label":"Column ".concat(n+1),onClick:b},v(t),r.createElement("div",{"aria-label":"Column ".concat(n+1," resize handler"),style:{display:"inline-block",width:"10px",cursor:"col-resize",position:"absolute",right:0,top:0,bottom:0},onMouseDown:m}))};function h(e,t){return".dg-grid-".concat(e," {").concat(t.map(function(e,t){return".dg-row .dg-cell:nth-child(".concat(t+1,") { ").concat("*"===e?"flex-grow: 1;":"number"==typeof e?"width: ".concat((e/16).toFixed(2),"em;"):void 0===e?"width: 6.25em;":e," }")}).join("\n"),"}")}function p(e){return"dg-grid-style-".concat(e)}var g=function(e,t){var n=(0,r.useRef)(function(e){if(Array.isArray(e))return a(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||i(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());return{changeSize:(0,r.useCallback)(function(t,r){t>=0&&t<n.current.length&&(n.current[t]=r,function(e,t){var n=document.getElementById(p(e));if(n){var r=h(e,t);n.textContent=r}}(e,n.current))},[e]),styleElement:r.createElement("style",{id:p(e)},h(e,n.current))}},y=function(e){var t=e.column,n=e.index,a=e.onClick,o=(0,r.useCallback)(function(){a&&a(t)},[t,a]);return r.createElement("div",{"aria-label":"Column ".concat(n+1),onClick:o},v(t))},w=function(e){var t=e.onClick,n=e.onDoubleClick,a=e.delay,o=void 0===a?250:a,l=(0,r.useRef)(null);return{onClick:function(e){l.current?(clearTimeout(l.current),l.current=null):l.current=setTimeout(function(){null==t||t(e),l.current=null},o)},onDoubleClick:function(e){l.current&&(clearTimeout(l.current),l.current=null),null==n||n(e)}}},C=function(){},k={type:"row",values:{}},x=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4?arguments[4]:void 0;return r.createElement("div",{key:a,className:"dg-row","data-row-index":a,"data-row-id":o?o(t,a):N(t,a)},e.map(function(e,a){return r.createElement("div",{key:a,"data-cell-index":a,"data-cell-name":e.name,className:"dg-cell dg-cell-".concat(a+1)},n(e,t,a))}))},j=function(e,t,n,a){return!1===e.allowResize?r.createElement(y,{column:e,index:t,onClick:a}):r.createElement(b,{column:e,index:t,onClick:a,onChangeSize:n})};function E(e,t,n){return e.render?e.render(t.values[e.name],e,t,n):t.values[e.name]}var S=function(){var e=l(function(e,t,n){return c(this,function(r){switch(r.label){case 0:return[4,new Promise(function(e){return setTimeout(e,500)})];case 1:if(r.sent(),n.aborted)throw Error("aborted");return[2,{rows:Array.from({length:t},function(t,n){return n+e}).map(function(t,n){return{type:"row",values:{col0:"Row ".concat(e+n)}}}),totalCount:void 0}]}})});return function(t,n,r){return e.apply(this,arguments)}}(),N=function(e,t){return"".concat(e.values["row-id"]||e.values.id||"row-".concat(t))},A={renderComponents:{}},O=0;function R(e){if(e){var t=e.closest(".dg-cell"),n=e.closest(".dg-row")||e.closest(".dg-group-row"),r=Number(null==t?void 0:t.getAttribute("data-cell-index")),a=null==t?void 0:t.getAttribute("data-cell-name");return{row:Number(null==n?void 0:n.getAttribute("data-row-index")),col:r,rowId:null==n?void 0:n.getAttribute("data-row-id"),colName:a}}}var z=r.forwardRef(function(e,t){var n,a=e.gridId,o=e.className,u=e.style,i=e.columns,s=void 0===i?[]:i,d=e.rows,f=void 0===d?[]:d,v=e.totalRowCount,b=e.pageSize,h=void 0===b?100:b,p=e.loadRows,y=e.rowId,z=e.placeholder,I=e.onColumnHeaderClick,D=e.onColumnSizeChange,P=e.onCellClick,T=e.onCellDoubleClick,B=e.renderComponents,G=void 0===B?A.renderComponents:B,M=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,["gridId","className","style","columns","rows","totalRowCount","pageSize","loadRows","rowId","placeholder","onColumnHeaderClick","onColumnSizeChange","onCellClick","onCellDoubleClick","renderComponents"]);C("reload DataGrid ...");for(var L=(0,r.useCallback)(function(e,t,n,r){return x(e,t,n,r,y)},[y]),F=(0,r.useCallback)(function(e,t){return r.createElement("div",{key:t,className:"dg-group-row","data-row-index":t,"data-row-id":y?y(e,t):N(e,t)},e.values[Object.keys(e.values)[0]])},[y]),q=G.renderGridRow||L,J=G.renderGroupRow||F,_=G.renderGridHeaderCell||j,H=G.renderGridCell||E,W=w({onClick:function(e){return null==P?void 0:P(e,R(e.target))},onDoubleClick:function(e){return null==T?void 0:T(e,R(e.target))}}),V=W.onClick,X=W.onDoubleClick,U=(0,r.useCallback)((n=l(function(e,t,n){var r,a;return c(this,function(o){switch(o.label){case 0:if(!p)return[3,2];return[4,p(e,t,n)];case 1:return a=o.sent(),[3,4];case 2:return[4,S(e,t,n)];case 3:a=o.sent(),o.label=4;case 4:if(r=a,n.aborted)throw Error("aborted");return[2,r.rows.map(function(t,n){return"group"===t.type?J(t,e+n):q(s,t,H,e+n)})]}})}),function(e,t,r){return n.apply(this,arguments)}),[s,p,H,q,J]),Y=f.map(function(e,t){return"group"===e.type?J(e,t):q(s,e,H,t)}),$=v||f.length,K=Y.length;K<$;){var Q=Math.min(h,$-K);Y.push(r.createElement(m,{key:"page-".concat(K),startIndex:K,size:Q,placeholder:z,loadRows:U})),K+=Q}var Z=(0,r.useRef)(a||"gid-".concat(O++)),ee=g(Z.current,s.map(function(e){return e.width})),et=ee.changeSize,en=ee.styleElement,er=(0,r.useCallback)(function(e,t){et(e,t),null==D||D(e,t)},[et,D]),ea=q(s,k,function(e,t,n){return _(e,n,er,I)},-1);return r.createElement("div",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({ref:t,className:"dg-grid dg-grid-".concat(Z.current," ").concat(o),style:u,"aria-label":"Data grid",onClick:V,onDoubleClick:X},M),en,r.createElement("div",{className:"dg-body"},r.createElement("div",{className:"dg-header"},ea),Y))})}}]);