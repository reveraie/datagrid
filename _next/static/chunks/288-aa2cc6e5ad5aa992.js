(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[288],{1288:(e,t,a)=>{"use strict";a.d(t,{default:()=>i});var r=a(4568);a(7620);var n=a(9973),l=a(5101),o=a(6309),s=a(3869),u=a(4682),c=a(565);function i(){let e=[{name:"status",width:32,allowResize:!1,render:e=>(0,r.jsx)("div",{children:e?(0,r.jsx)(n.A,{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"}):(0,r.jsx)(l.A,{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"})})},{name:"from",label:"From",width:100},{name:"favorite",width:32,allowResize:!1,render:e=>(0,r.jsx)("div",{children:e?(0,r.jsx)(u.A,{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"}):(0,r.jsx)(o.A,{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"})})},{name:"subject",label:"Subject",width:"*"},{name:"attachments",width:32,allowResize:!1,render:e=>(0,r.jsx)("div",{children:e?(0,r.jsx)(s.A,{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"}):null})},{name:"date",label:"Date",width:100}];return(0,r.jsx)(c.z,{gridId:"2",className:"max-h-64",columns:e,rows:[{type:"group",values:{Since:"Today"}},{values:{status:!0,from:"Bob Wilson",favorite:!0,subject:"Important announcement",attachments:3,date:"2023-01-01"}},{values:{status:!1,from:"John Doe",favorite:!1,subject:"New feature request",attachments:0,date:"2023-01-02"}},{values:{status:!0,from:"Alice Smith",favorite:!1,subject:"Sales update",attachments:2,date:"2023-01-03"}},{values:{status:!1,from:"Mike Johnson",favorite:!0,subject:"Bug report",attachments:1,date:"2023-01-04"}},{type:"group",values:{Since:"Yesterday"}},{values:{status:!0,from:"Emily Davis",favorite:!1,subject:"Feature request",attachments:0,date:"2023-01-05"}},{values:{status:!1,from:"David Brown",favorite:!0,subject:"Bug report",attachments:2,date:"2023-01-06"}},{values:{status:!0,from:"Sophia Wilson",favorite:!1,subject:"Sales update",attachments:1,date:"2023-01-07"}},{values:{status:!1,from:"James Smith",favorite:!0,subject:"Bug report",attachments:0,date:"2023-01-08"}},{values:{status:!0,from:"Olivia Johnson",favorite:!1,subject:"Feature request",attachments:2,date:"2023-01-09"}},{values:{status:!1,from:"Liam Davis",favorite:!0,subject:"Sales update",attachments:1,date:"2023-01-10"}},{values:{status:!0,from:"Emma Brown",favorite:!1,subject:"Bug report",attachments:0,date:"2023-01-11"}},{values:{status:!1,from:"Noah Wilson",favorite:!0,subject:"Feature request",attachments:2,date:"2023-01-12"}}]})}a(3638)},3638:()=>{},565:(e,t,a)=>{"use strict";a.d(t,{z:()=>D});var r=a(7620),n=a(4568),l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,[a,n]=(0,r.useState)(!1),l=(0,r.useRef)(null),o=(0,r.useRef)(null);return(0,r.useEffect)(()=>{let a=l.current,r=new IntersectionObserver(e=>{let[a]=e;a.isIntersecting?o.current=setTimeout(()=>{l.current&&r&&n(!0)},t):(o.current&&clearTimeout(o.current),n(!1))},{root:null,rootMargin:"0px",threshold:e});return a&&r.observe(a),()=>{a&&r.unobserve(a),o.current&&clearTimeout(o.current)}},[e,t]),{isVisible:a,ref:l}},o=()=>{},s=()=>{},u=function(e){let{startIndex:t,size:a,loadRows:u,placeholder:c,timeout:i}=e,{isVisible:d,ref:m}=l(0,i||100);s("GridPage reload: ".concat(t," is ").concat(d?"visible":"not visible"));let v=(0,r.useMemo)(()=>c?c(t,a):Array.from({length:a},(e,a)=>a+t).map((e,a)=>(0,n.jsxs)("div",{className:"dg-row dg-row-loading",children:["Loading row ",t+a," ..."]},t+a)),[c,t,a]),[f]=function(e,t,a,n,l){let[s,u]=(0,r.useState)(n),c=(0,r.useRef)(null);return(0,r.useEffect)(()=>{if(!e){u(n),c.current&&(o("loading aborted -- no longer visible",t,a),c.current.abort(),c.current=null);return}let r=new AbortController;return c.current=r,o("loading started",t,a),l(t,a,r.signal).then(e=>{r.signal.aborted||(o("loading completed",t,a),u(e))}).catch(e=>{o("Page ".concat(t," failed to load:"),e)}).finally(()=>{c.current===r&&(c.current=null)}),()=>{c.current&&(c.current.abort(),c.current=null)}},[e,t,a,l,n]),[s]}(d,t,a,v,u);return(0,n.jsx)("div",{ref:m,className:"dg-page",children:f})};function c(e,t){return".dg-grid-".concat(e," {").concat(t.map((e,t)=>{var a;return".dg-row .dg-cell:nth-child(".concat(t+1,") { ").concat("*"===(a=e.width)?"flex-grow: 1;":"number"==typeof a?"width: ".concat((a/16).toFixed(2),"em;"):void 0===a?"width: 6.25em;":a," }")}).join("\n"),"}")}function i(e){return"dg-grid-style-".concat(e)}function d(e){let t=e.label;return t?"function"==typeof t?t(e):t:null}var m=function(e){let{column:t,index:a,onClick:l}=e,o=(0,r.useCallback)(()=>{l&&l(t)},[t,l]);return(0,n.jsx)("div",{"aria-label":"Column ".concat(a+1),onClick:o,children:d(t)})},v=e=>{let{onClick:t,onDoubleClick:a,delay:n=250}=e,l=(0,r.useRef)(null);return{onClick:e=>{l.current?(clearTimeout(l.current),l.current=null):l.current=setTimeout(()=>{null==t||t(e),l.current=null},n)},onDoubleClick:e=>{l.current&&(clearTimeout(l.current),l.current=null),null==a||a(e)}}},f=void 0,g=function(e){let{column:t,index:a,onClick:l,onChangeSize:o,onReorder:s}=e,[u,c]=(0,r.useState)("number"==typeof t.width?t.width:100),[i,m]=(0,r.useState)(!1),[v,g]=(0,r.useState)("NONE"),h=(0,r.useCallback)(e=>{e.stopPropagation();let t=e.clientX,r=u||0,n=e=>{m(!0);let n=Math.max(r+e.clientX-t,10);o&&o(a||0,n),c(n)},l=()=>{document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",l),setTimeout(()=>m(!1),10)};document.addEventListener("mousemove",n),document.addEventListener("mouseup",l)},[u,a,o]),b=(0,r.useCallback)(()=>{!i&&l&&l(t)},[t,l,i]),w=(0,r.useCallback)(e=>{e.dataTransfer.setData("text/plain",a.toString()),f=a},[a]),p=(0,r.useCallback)(e=>{e.preventDefault(),g("NONE");let t=e.dataTransfer.getData("text/plain");s&&s(Number(t),a)},[a,s]),x=(0,r.useCallback)(e=>{e.preventDefault(),void 0!==f&&(f<a?g("RIGHT"):f>a&&g("LEFT"))},[a]),j=(0,r.useCallback)(()=>{g("NONE")},[]),C=(0,r.useMemo)(()=>s?{draggable:!0,onDragStart:w,onDrop:p,onDragOver:x,onDragLeave:j}:{},[s,w,p,x,j]);return(0,n.jsxs)("div",{"aria-label":"Column ".concat(a+1),children:[(0,n.jsx)("div",{"aria-label":"Column ".concat(a+1," drag handler"),onClick:b,...C,children:d(t)}),(0,n.jsx)("div",{"aria-label":"Column ".concat(a+1," resize handler"),className:"dg-resize-handler",onMouseDown:h}),"LEFT"===v&&(0,n.jsx)("div",{className:"dg-drop-left-indicator"}),"RIGHT"===v&&(0,n.jsx)("div",{className:"dg-drop-right-indicator"})]})},h=()=>{},b={type:"row",values:{}},w=(e,t,a)=>(0,n.jsx)("div",{className:"dg-group-row","data-row-index":t,"data-row-id":a?a(e,t):N(e,t),children:e.values[Object.keys(e.values)[0]]},t),p=function(e,t,a){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,l=arguments.length>4?arguments[4]:void 0;return(0,n.jsx)("div",{className:"dg-row","data-row-index":r,"data-row-id":l?l(t,r):N(t,r),children:e.map((e,r)=>(0,n.jsx)("div",{"data-cell-index":r,"data-cell-name":e.name,className:"dg-cell dg-cell-".concat(r+1),children:a(e,t,r)},r))},r)},x=e=>{let{...t}=e;return!1===t.column.allowResize?(0,n.jsx)(m,{...t}):(0,n.jsx)(g,{...t})};function j(e,t,a){return e.render?e.render(t.values[e.name],e,t,a):t.values[e.name]}var C=async(e,t,a)=>{if(await new Promise(e=>setTimeout(e,500)),a.aborted)throw Error("aborted");return{rows:Array.from({length:t},(t,a)=>a+e).map((t,a)=>({type:"row",values:{col0:"Row ".concat(e+a)}})),totalCount:void 0}},N=(e,t)=>"".concat(e.values["row-id"]||e.values.id||"row-".concat(t)),y={renderComponents:{}},k=0;function E(e){if(!e)return;let t=e.closest(".dg-cell"),a=e.closest(".dg-row")||e.closest(".dg-group-row"),r=Number(null==t?void 0:t.getAttribute("data-cell-index")),n=null==t?void 0:t.getAttribute("data-cell-name");return{row:Number(null==a?void 0:a.getAttribute("data-row-index")),col:r,rowId:null==a?void 0:a.getAttribute("data-row-id"),colName:n}}var D=r.forwardRef(function(e,t){var a;let{gridId:l,className:o,style:s,columns:d=[],rows:m=[],totalRowCount:f,pageSize:g=100,loadRows:N,rowId:D,placeholder:S,onColumnHeaderClick:R,onColumnSizeChange:T,onColumnReorder:A,onCellClick:z,onCellDoubleClick:I,renderComponents:L=y.renderComponents,...B}=e;h("reload DataGrid ...");let G=(0,r.useCallback)((e,t,a,r)=>p(e,t,a,r,D),[D]),F=(0,r.useCallback)((e,t)=>w(e,t,D),[D]),M=L.renderGridRow||G,O=L.renderGroupRow||F,q=L.renderGridHeaderCell||x,J=L.renderGridCell||j,{onClick:P,onDoubleClick:_}=v({onClick:e=>null==z?void 0:z(e,E(e.target)),onDoubleClick:e=>null==I?void 0:I(e,E(e.target))}),H=(0,r.useCallback)(async(e,t,a)=>{let r=N?await N(e,t,a):await C(e,t,a);if(a.aborted)throw Error("aborted");return r.rows.map((t,a)=>"group"===t.type?O(t,e+a):M(d,t,J,e+a))},[d,N,J,M,O]),W=m.map((e,t)=>"group"===e.type?O(e,t):M(d,e,J,t)),X=f||m.length,Y=W.length;for(;Y<X;){let e=Math.min(g,X-Y);W.push((0,n.jsx)(u,{startIndex:Y,size:e,placeholder:S,loadRows:H},"page-".concat(Y))),Y+=e}let K=(0,r.useRef)(l||"gid-".concat(k++)),{changeSize:Q,styleElement:U}=(a=K.current,{changeSize:(0,r.useCallback)((e,t)=>{e>=0&&e<d.length&&(d[e].width=t,function(e,t){let a=document.getElementById(i(e));if(!a)return;let r=c(e,t);a.textContent=r}(a,d))},[d,a]),styleElement:(0,n.jsx)("style",{id:i(a),children:c(a,d)})}),V=(0,r.useCallback)((e,t)=>{Q(e,t),null==T||T(e,t)},[Q,T]),Z=M(d,b,(e,t,a)=>q({column:e,index:a,onChangeSize:V,onClick:R,onReorder:A}),-1);return(0,n.jsxs)("div",{ref:t,className:"dg-grid dg-grid-".concat(K.current," ").concat(o),style:s,"aria-label":"Data grid",onClick:P,onDoubleClick:_,...B,children:[U,(0,n.jsxs)("div",{className:"dg-body",children:[(0,n.jsx)("div",{className:"dg-header",children:Z}),W]})]})})}}]);